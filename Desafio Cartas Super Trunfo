#include <stdio.h>

// variaveis para guardar os dados das cartas
struct Carta {
    char estado[2];         
    char codigo[2];         
    char cidade[50];        
    int populacao;          
    int pontosturisticos;   
    float area;             
    float pib;              
    float densidade;        
};

int main() {
    // guardar os dados das cartas
    struct Carta carta1;
    struct Carta carta2;

    
    printf("===== Cadastro da Carta 1 =====\n");

    printf("Digite a letra do estado (A a H):\n");
    scanf(" %c", &carta1.estado[0]);  
    carta1.estado[1] = '\0';          

    printf("Digite o número do código (1 a 4):\n");
    scanf(" %c", &carta1.codigo[0]);
    carta1.codigo[1] = '\0';

    printf("Digite o nome da cidade:\n");
    scanf(" %[^\n]", carta1.cidade); // Não utilizei nenhum especificador para que ele aceite cidades com mais de uma palavra

    printf("Digite a população da cidade:\n");
    scanf("%d", &carta1.populacao);

    printf("Digite a quantidade de pontos turísticos:\n");
    scanf("%d", &carta1.pontosturisticos);

    printf("Digite a área da cidade em km²:\n");
    scanf("%f", &carta1.area);

    printf("Digite o PIB da cidade:\n");
    scanf("%f", &carta1.pib);

    // Calcula a densidade demográfica (população/área) da carta 1
    if (carta1.area != 0)
        carta1.densidade = carta1.populacao / carta1.area;
    else
        carta1.densidade = 0;

    
    printf("\n===== Cadastro da Carta 2 =====\n");

    printf("Digite a letra do estado (A a H):\n");
    scanf(" %c", &carta2.estado[0]);
    carta2.estado[1] = '\0';

    printf("Digite o número do código (1 a 4):\n");
    scanf(" %c", &carta2.codigo[0]);
    carta2.codigo[1] = '\0';

    printf("Digite o nome da cidade:\n");
    scanf(" %[^\n]", carta2.cidade);// Não utilizei nenhum especificador para que ele aceite cidades com mais de uma palavra

    printf("Digite a população da cidade:\n");
    scanf("%d", &carta2.populacao);

    printf("Digite a quantidade de pontos turísticos:\n");
    scanf("%d", &carta2.pontosturisticos);

    printf("Digite a área da cidade em km²:\n");
    scanf("%f", &carta2.area);

    printf("Digite o PIB da cidade:\n");
    scanf("%f", &carta2.pib);

    if (carta2.area != 0)// Calcula a densidade demográfica (população/área) da carta 2
        carta2.densidade = carta2.populacao / carta2.area;
    else
        carta2.densidade = 0;

    // --- Escolha do atributo para comparar ---
    int opcao;
    printf("\nEscolha o atributo para comparar:\n");
    printf("1 - População\n");
    printf("2 - Área\n");
    printf("3 - PIB\n");
    printf("4 - Pontos turísticos\n");
    printf("5 - Densidade demográfica\n");
    printf("Digite a opção (1-5): ");
    scanf("%d", &opcao);

    // Variáveis para comparação
    float valor1 = 0, valor2 = 0;
    char atributo[30];

    // Atribui os valores para comparar e o nome do atributo
    switch(opcao) {
        case 1: // se for 1 compara a população
            valor1 = (float)carta1.populacao;
            valor2 = (float)carta2.populacao;
            sprintf(atributo, "População");
            break;
        case 2:// se for 2 compara a área
            valor1 = carta1.area;
            valor2 = carta2.area;
            sprintf(atributo, "Área");
            break;
        case 3:// se for 3 compara o PIB
            valor1 = carta1.pib;
            valor2 = carta2.pib;
            sprintf(atributo, "PIB");
            break;
        case 4: // se for 4 compara os pontos turisticos
            valor1 = (float)carta1.pontosturisticos;
            valor2 = (float)carta2.pontosturisticos;
            sprintf(atributo, "Pontos turísticos");
            break;
        case 5: // se for 5 compara a densidade denográfica
            valor1 = carta1.densidade;
            valor2 = carta2.densidade;
            sprintf(atributo, "Densidade demográfica");
            break; // usei para não deixar a pessoa escolher outra opção depois de já ter escolhido uma
        default: 
            printf("Opção inválida!\n");
            return 1;  // Sai do programa com erro
    }

    // --- Mostra os dados das cartas ---
    printf("\n===== CARTA 1 =====\n");
    printf("ESTADO: %s\n", carta1.estado);
    printf("Código completo: %s%s\n", carta1.estado, carta1.codigo);
    printf("Cidade: %s\n", carta1.cidade);
    printf("População: %d\n", carta1.populacao);
    printf("Pontos turísticos: %d\n", carta1.pontosturisticos);
    printf("Área: %.2f km²\n", carta1.area);
    printf("PIB: R$ %.2f\n", carta1.pib);
    printf("Densidade demográfica: %.2f\n", carta1.densidade);

    printf("\n===== CARTA 2 =====\n");
    printf("ESTADO: %s\n", carta2.estado);
    printf("Código completo: %s%s\n", carta2.estado, carta2.codigo);
    printf("Cidade: %s\n", carta2.cidade);
    printf("População: %d\n", carta2.populacao);
    printf("Pontos turísticos: %d\n", carta2.pontosturisticos);
    printf("Área: %.2f km²\n", carta2.area);
    printf("PIB: R$ %.2f\n", carta2.pib);
    printf("Densidade demográfica: %.2f\n", carta2.densidade);

    // --- Comparação ---
    printf("\nComparando o atributo: %s\n", atributo);
    printf("Carta 1 tem: %.2f\n", valor1);
    printf("Carta 2 tem: %.2f\n", valor2);

    
    if(opcao == 5) { //  Se escolher 5, será executada essa parte do codigo para dar o resultado, pois a regra da densidade demográfica é diferente das demais.
        if(valor1 < valor2) {
            printf("A carta vencedora é: Carta 1\n");
        } else if(valor2 < valor1) {
            printf("A carta vencedora é: Carta 2\n");
        } else {
            printf("Empate!\n");
        }
    } else {
        if(valor1 > valor2) {
            printf("A carta vencedora é: Carta 1\n");
        } else if(valor2 > valor1) {
            printf("A carta vencedora é: Carta 2\n");
        } else {
            printf("Empate!\n");
        }
    }

    return 0;
}
